<!--
Google IO 2012/2013 HTML5 Slide Template

Authors: Eric Bidelman <ebidel@gmail.com>
         Luke Mahé <lukem@google.com>

URL: https://code.google.com/p/io-2012-slides
-->
<!DOCTYPE html>
<html>
<head>
  <title>Arquitetura JavaScript</title>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <!--<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">-->
  <!--<meta name="viewport" content="width=device-width, initial-scale=1.0">-->
  <!--This one seems to work all the time, but really small on ipad-->
  <!--<meta name="viewport" content="initial-scale=0.4">-->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <link rel="stylesheet" media="all" href="theme/css/default.css">
  <link rel="stylesheet" media="only screen and (max-device-width: 480px)" href="theme/css/phone.css">
  <base target="_blank"> <!-- This amazingness opens all links in a new tab. -->
  <script data-main="js/slides" src="js/require-1.0.8.min.js"></script>
</head>
<body style="opacity: 0">

<slides class="layout-widescreen">

  <slide class="logoslide nobackground">
    <article class="flexbox vcenter">
      <span><img src="images/ivia-logo.png"></span>
    </article>
  </slide>

  <slide class="title-slide segue nobackground">
    <aside class="gdbar"><img src="images/google_developers_icon_128.png"></aside>
    <!-- The content of this hgroup is replaced programmatically through the slide_config.json. -->
    <hgroup class="auto-fadein">
      <h1 data-config-title><!-- populated from slide_config.json --></h1>
      <h2 data-config-subtitle><!-- populated from slide_config.json --></h2>
      <p data-config-presenter><!-- populated from slide_config.json --></p>
    </hgroup>
  </slide>

  <slide>
    <hgroup>
      <h2>Agenda</h2>
    </hgroup>
    <article>
      <ul class="build fade">
        <li>Javascript: Por que se preocupar?</li>
        <li>Orientação a Objetos</li>
        <li>Namespaces</li>
        <li>Objetos Literais</li>
        <li>Sugestão de Arquitetura</li>
        <li>Demos</li>        
      </ul>
    </article>
  </slide>

  <slide class="segue dark nobackground">
    <aside class="gdbar"><img src="images/google_developers_icon_128.png"></aside>
    <hgroup class="auto-fadein">
      <h2>JavaScript</h2>
      <h3>Por que se preocupar?</h3>
    </hgroup>
  </slide>

  <slide>
    <hgroup>
      <h2>JavaScript</h2>
      <h3>Por que se preocupar?</h3>
    </hgroup>
    <article>
      <div class="js-files">
        <div>
          <img src="images/html_file.png" class="invisible" />
          <img src="images/html_file.png" class="invisible" />
          <img src="images/html_file.png" class="invisible" />
          <img src="images/html_file.png" class="invisible" />
          <img src="images/html_file.png" class="invisible" />
          <img src="images/html_file.png" class="invisible" />
          <img src="images/html_file.png" class="invisible" />
          <img src="images/html_file.png" />
          <img src="images/html_file.png" class="invisible" />
          <img src="images/html_file.png" class="invisible" />
          <img src="images/html_file.png" class="invisible" />
          <img src="images/html_file.png" class="invisible" />
          <img src="images/html_file.png" class="invisible" />
          <img src="images/html_file.png" class="invisible" />
          <img src="images/html_file.png" class="invisible" />
        </div>
      </div>
    
      <div class="js-files build">
        <div>
          <img src="images/html_file.png" class="invisible" />
          <img src="images/html_file.png" class="invisible" />
          <img src="images/html_file.png" class="invisible" />
          <img src="images/html_file.png" class="invisible" />
          <img src="images/html_file.png" class="invisible" />
          <img src="images/html_file.png" class="invisible" />
          <img src="images/html_file.png" />
          <img src="images/html_file.png" class="invisible" />
          <img src="images/html_file.png" />
          <img src="images/html_file.png" class="invisible" />
          <img src="images/html_file.png" class="invisible" />
          <img src="images/html_file.png" class="invisible" />
          <img src="images/html_file.png" class="invisible" />
          <img src="images/html_file.png" class="invisible" />
          <img src="images/html_file.png" class="invisible" />
        </div>
      </div>
    
      <div class="js-files build">
        <div>
          <img src="images/html_file.png" />
          <img src="images/html_file.png" />
          <img src="images/html_file.png" />
          <img src="images/html_file.png" />
          <img src="images/html_file.png" />
          <img src="images/html_file.png" />
          <img src="images/html_file.png" class="invisible" />
          <img src="images/html_file.png" class="invisible" />
          <img src="images/html_file.png" class="invisible" />
          <img src="images/html_file.png" />
          <img src="images/html_file.png" />
          <img src="images/html_file.png" />            
          <img src="images/html_file.png" />        
          <img src="images/html_file.png" />
          <img src="images/html_file.png" />
        </div>
      </div>
    
      <div class="js-files build">
        <div class="js-files-last-content">
          <div>
            <img src="images/html_file.png" />          
            <img src="images/arrow-right.png" id="arrow" />
            <img src="images/js_file.png" />
          </div>
        </div>
      </div>
    
      <div class="js-files build">
        <div>
          <img src="images/js_file.png" />
          <img src="images/js_file.png" />
          <img src="images/js_file.png" />
          <img src="images/js_file.png" />
          <img src="images/js_file.png" />
          <img src="images/js_file.png" />
          <img src="images/js_file.png" />
          <img src="images/js_file.png" />
          <img src="images/js_file.png" />
          <img src="images/js_file.png" />
          <img src="images/js_file.png" />
          <img src="images/js_file.png" />            
          <img src="images/js_file.png" />        
          <img src="images/js_file.png" />
          <img src="images/js_file.png" />
        </div>
      </div>
    </article>
  </slide>

  <slide>
    <hgroup class="flexbox vcenter">
      <h2 class="centered">E o que fazer?</h2> 
      <h3 class='build'><span>Organizar o código de forma lógica e estruturadamente.</span></h3>
    </hgroup>
  </slide>

  <slide>
    <article>
      <hgroup>
        <h2>Logicamente</h2>
      </hgroup>
      <br/>
      <ul class="build fade">
        <li>Orientação a Objetos</li>
        <li>Namespaces</li>
        <li>Boas práticas</li>
      </ul>
      <hgroup class='build'>
        <h2>Estruturalmente</h2>
      </hgroup>
      <br />
      <ul class="build fade">
        <li>Convencionando a organização do código em pastas e arquivos</li>
      </ul>
    </article>
  </slide>

  <slide class="segue dark nobackground">
    <aside class="gdbar"><img src="images/google_developers_icon_128.png"></aside>
    <hgroup class="auto-fadein">
      <h2>Orientação a Objetos</h2>
      <h3>Em JavaScript?!</h3>
    </hgroup>
  </slide>

  <slide>
    <hgroup>
      <h2>Orientação a Objetos</h2>
      <h3 class='build'><span>Em JS, tudo é objeto!</span></h3>
    </hgroup>
    <article class='build'>
      <pre class="prettyprint" data-lang="javascript">

// dados primitivos

<b>var numero = 1;</b>
numero      // 1
numero.valueOf();   // 1
<b>numero.toString();  // "1"</b>

// funções

<b>var funcao = function () { alert("funcao foi chamada"); };</b>
funcao();     // alert: funcao foi chamada
<b>funcao.toString();  // "function () { alert("funcao foi chamada"); }"</b>


</pre>
    </article>
  </slide>

  <slide>
    <hgroup>
      <h2>Orientação a Objetos</h2>
      <h3 class='build'><span>Em JS, utiliza-se a mesma ideia das linguagens clássicas</span></h3>
    </hgroup>
    <article>
      <ul class='build'>
        <li>Objetos com membros públicos e privados</li>
        <li>Herança</li>
        <li>Até polimorfismo!</li>
      </ul>
    </article>
  </slide>

  <slide>
    <hgroup class="flexbox vcenter">
      <h2 class="center-text">Ok, vamos usar OO.</h2> 
      <h3 class='build'><span>Mas ainda pode haver desorganização no código, como resolver isso?</span></h3>
      <h3 class='build blue3'><span><b>Usando Namespaces!</b></span></h3>
    </hgroup>
  </slide>

  <slide class="segue dark nobackground">
    <aside class="gdbar"><img src="images/google_developers_icon_128.png"></aside>
    <hgroup class="auto-fadein">
      <h2>Namespaces</h2>
      <h3>Mais esse no JavaScript?!</h3>
    </hgroup>
  </slide>

  <slide>
    <hgroup>
      <h2>Namespaces</h2>
      <h3><span>O que é?</span></h3>
    </hgroup>
    <article>
      <ul class='build'>
        <li>Técnica empregada para evitar colisões de nomes de classes/objetos em um contexto global</li>
        <li>É a mesma idéia do <b class="blue3">namespace</b> no C# e do <b class="blue3">pacote</b> no  Java</li>
      </ul>
    </article>
  </slide>

  <slide>
    <hgroup>
      <h2>Namespaces</h2>
      <h3><span>Por que usar?</span></h3>
    </hgroup>
    <article>
      <ul class='build'>
        <li>Separa as classes/objetos em grupos de mesmo interesse</li>
        <li>Facilita a manutenção</li>
      </ul>
    </article>
  </slide>

  <slide>
    <hgroup>
      <h2>Namespaces</h2>
      <h3><span>Como usar?</span></h3>
    </hgroup>
    <article>
      <ul class='build'>
        <li>Através de Objetos Literais - <b>lógica</b></li>
        <li>Estruturação de pastas e arquivos - <b>estrutura</b></li>
      </ul>
    </article>
  </slide>

  <slide>
    <hgroup>
      <h2>Objetos Literais</h2>
      <h3><span>O que são?</span></h3>
    </hgroup>
    <article>
      <ul class='build'>
        <li>Um conjunto de pares nome/valor separados por vírgula que estão contidos num bloco</li>
        <li><b>Nome</b>: qualquer nome válido na linguagem JS</li>
        <li><b>Valores</b>: <span class="blue">dados primitivos</span>, <span class="blue">métodos</span>/<span class="blue">funções</span> e outros <span class="blue">objetos literais</span></li>
      </ul>
    </article>
  </slide>

  <slide>
    <hgroup>
      <h2>Objetos Literais</h2>
      <h3><span>Exemplo</span></h3>
    </hgroup>
    <article>
      <pre class="prettyprint" data-lang="javascript">
// objeto literal

var pessoa = {
  nome: 'Fulano',
  idade: 25,
  endereco: {
    rua: 'Av. São Paulo',
    numero: 1000,
    bairro: 'Centro',
    toString: function () {
      console.log(this.rua + ', ' + this.numero + ' - ' + this.bairro);
    }
  },
  toString: function () { console.log(this.nome + ', ' + this.idade); }
};
</pre>
    </article>
  </slide>

  <slide>
    <hgroup>
      <h2>Objetos Literais</h2>
      <h3><span>Exemplo (continuação)</span></h3>
    </hgroup>
    <article>
      <pre class="prettyprint" data-lang="javascript">

// acessando propriedades

pessoa.nome   // "Fulano"
pessoa.idade    // 25 
pessoa.endereco.rua // "Av. São Paulo"

// acessando metodos

pessoa.toString();    // alert: Fulano, 25
pessoa.endereco.toString(); // alert: Av. São Paulo, 1000 - Centro


</pre>
    </article>
  </slide>

  <slide class="segue dark nobackground">
    <aside class="gdbar"><img src="images/google_developers_icon_128.png"></aside>
    <hgroup class="auto-fadein">
      <h2>Let's code!</h2>
      <h3>Hands-on</h3>
    </hgroup>
  </slide>

  <slide>
    <hgroup>
      <h2>Namespaces</h2>
      <h3>Implementação</h3>
    </hgroup>
    <article>
      <pre class="prettyprint" data-lang="javascript">

// Objeto global - Namespace raiz

MeuAplicativo = {
  Plugin: {},  // Namespace para plugins
  Comportamento: {}  // Namespace para configurar comportamentos
};


</pre>
<span class="code-info gray2"><i>namespace.js</i></span>
    </article>
  </slide>

  <slide>
    <hgroup>
      <h2>Namespaces</h2>
      <h3>Plugin</h3>
    </hgroup>
    <article>
      <pre class="prettyprint" data-lang="javascript">

// Objeto que encapsula um plugin qualquer

MeuAplicativo.Plugin.Tabela = function (idElemento) {  
  this.tabela = $('#' + idElemento).dataTables(); 
};

MeuAplicativo.Plugin.Tabela.prototype.limparTabela = function () {   
  this.tabela.fnClearTable();
};


</pre>
<span class="code-info gray2"><i>tabelaPlugin.js</i></span>
    </article>
  </slide>

  <slide>
    <hgroup>
      <h2>Namespaces</h2>
      <h3>Comportamento</h3>
    </hgroup>
    <article class='smaller'>
      <pre class="prettyprint" data-lang="javascript">
// Objeto que configura os comportamentos de uma página
MeuAplicativo.Comportamento.UsuarioIndex = function () {
  var that = this;
  var tabela = new MeuAplicativo.Plugin.Tabela("usuario-grid");

  that.limparTabela = function (event) {
    event.preventDefault();
    tabela.limparTabela();
  };
};

// Usando jQuery para iniciar a execução do código
$(function () { 
  var script = new MeuAplicativo.Comportamento.UsuarioIndex();
  
  // Bind de eventos
  $('a.limparTabela').click(script.limparTabela); 
});
</pre>
<span class="code-info gray2"><i>usuarioIndex.js</i></span>
    </article>
  </slide>

  <slide>
    <hgroup>
      <h2>Arquitetura</h2>
      <h3>Antes</h3>
    </hgroup>
    <article>
      <div id="before-diagram" class="build">
        <img src="images/plugins-behav-diagram.png" />
        <img src="images/right-arrow_plugins-behav-diagram.png" id="right-arrow" />
        <img src="images/html_file.png" id="html-file" />
        <img src="images/down-arrow.png" id="small-right-arrow" />
        <img src="images/js_file.png" id="js-file" />
      </div>
      
      <div id="before-diagram-legend" class="build">
        <p>Sem OO</p>
        <p>Sem Namespaces</p>
        <p>Sem organização estrutural</p>
      </div>
    </article>
  </slide>

  <slide>
    <hgroup>
      <h2>Arquitetura</h2>
      <h3>Depois</h3>
    </hgroup>
    <article id='diagrama-namespaces' class="flexbox vcenter">
      <img src="images/namespaces-diagram.png" alt="Diagrama de Namespaces" title="Diagrama de Namespaces">
      <footer class="source">Diagrama de Namespaces</footer>
    </article>
  </slide>

  <slide>
    <hgroup>
      <h2>Estrutura</h2>
      <h3>Arquivos e Pastas</h3>
    </hgroup>
    <article class="flexbox vcenter no-margin">
      <section class="dir-struct start">
        
        <header>Início</header>
        
        <div>
          <div class="scripts">
            <figure>
              <img src="images/diretorio.png" />
              <figcaption>Scripts</figcaption>
            </figure>
          </div>
        </div>        
        
        <figure>
          <img src="images/down-arrow.png" />
        </figure>
        
        <div>
          <div class="app">
            <figure>
              <img src="images/diretorio.png" />
              <figcaption>App</figcaption>
            </figure>
          </div>
        </div>

        <figure>
          <img src="images/down-arrow.png" />
        </figure>
        
        <div>   
          <div class="app-children">
            <figure class="go-to-main">
              <img src="images/diretorio.png" />
              <figcaption>Main</figcaption>
            </figure>
          
            <figure class="go-to-componentes">
              <img src="images/diretorio.png" />
              <figcaption>Componentes</figcaption>
            </figure>
            
            <figure class="go-to-views last">
              <img src="images/diretorio.png" />
              <figcaption>Views</figcaption>
            </figure>
          </div>
        </div>
      </section>
            
      <section class="dir-struct views" style="display: none;">
      
        <header>
          <img src="images/round_arrow_left.png" class="back-to views-to-start" />
          Views
        </header>
                    
        <div>
          <div class="views-root">
            <figure>
              <img src="images/diretorio.png" />
              <figcaption>Views</figcaption>
            </figure>
          </div>
        </div>
        
        <figure>
          <img src="images/down-arrow.png" />
        </figure>
        
        <div>
          <div class="views-children">
            <figure class="go-to-view-usuario">
              <img src="images/diretorio.png" />
              <figcaption>Usuario</figcaption>
            </figure>
            
            <figure class="go-to-view-grupo last">
              <img src="images/diretorio.png" />
              <figcaption>Grupo</figcaption>
            </figure>
          </div>
        </div>        
      </section>
      
      <section class="dir-struct view-usuario" style="display: none;">
      
        <header>
          <img src="images/round_arrow_left.png" class="back-to view-usuario-to-views" />
          View Usuario
        </header>
                    
        <div>
          <div class="view-usuario-root">
            <figure>
              <img src="images/diretorio.png" />
              <figcaption>Usuario</figcaption>
            </figure>
          </div>
        </div>
        
        <figure>
          <img src="images/down-arrow.png" />
        </figure> 
        
        <div>
          <div class="top-namespaces">
            <figure class="show-view-usuario-elementos-children">
              <img src="images/diretorio.png" />
              <figcaption>Elementos</figcaption>
            </figure>         
            
            <figure class="show-view-usuario-viewmodel-children">
              <img src="images/diretorio.png" />
              <figcaption>ViewModel</figcaption>
            </figure>
            
            <figure class="show-view-usuario-script-children last">
              <img src="images/diretorio.png" />
              <figcaption>Script</figcaption>
            </figure>
          </div>
        </div>
        
        <figure class="down-arrow-view-usuario" style="display:none;">
          <img src="images/down-arrow.png" />
        </figure>
        
        <div>
          <div class="view-usuario-elementos-children" style="display:none;">
            <figure>
              <img src="images/js_file.png" class="js-file" />
              <figcaption>FormUsuario.js</figcaption>
            </figure>           
            
            <figure class="last">
              <img src="images/js_file.png" class="js-file" />
              <figcaption>TabelaDeUsuarios.js</figcaption>
            </figure>
          </div>
          
          <div class="view-usuario-viewmodel-children" style="display:none;">
            <figure class="last">
              <img src="images/js_file.png" class="js-file" />
              <figcaption>UsuarioViewModel.js</figcaption>
            </figure>
          </div>
          
          <div class="view-usuario-script-children" style="display:none;">
            <figure class="last">
              <img src="images/js_file.png" class="js-file" />
              <figcaption>UsuarioScript.js</figcaption>
            </figure>
          </div>
        </div>
      </section>
      
      <section class="dir-struct view-grupo" style="display: none;">
      
        <header>
          <img src="images/round_arrow_left.png" class="back-to view-grupo-to-views" />
          View Grupo
        </header>
                    
        <div>
          <div class="view-grupo-root">
            <figure>
              <img src="images/diretorio.png" />
              <figcaption>Grupo</figcaption>
            </figure>
          </div>
        </div>
        
        <figure>
          <img src="images/down-arrow.png" />
        </figure>       
        <div>
          <div class="top-namespaces">
            <figure>
              <img src="images/diretorio.png" />
              <figcaption>Elementos</figcaption>
            </figure>         
            
            <figure>
              <img src="images/diretorio.png" />
              <figcaption>ViewModel</figcaption>
            </figure>
            
            <figure class="last">
              <img src="images/diretorio.png" />
              <figcaption>Script</figcaption>
            </figure>
          </div>
        </div>
      </section>
      
      <section class="dir-struct componentes" style="display: none;">
      
        <header>
          <img src="images/round_arrow_left.png" class="back-to componentes-to-start" />
          Componentes
        </header>
                    
        <div>
          <div class="componentes-root">
            <figure>
              <img src="images/diretorio.png" />
              <figcaption>Componentes</figcaption>
            </figure>
          </div>
        </div>
        
        <figure>
          <img src="images/down-arrow.png" />
        </figure>
        
        <div>
          <div class="componentes-children">
            <figure>
              <img src="images/js_file.png" class="js-file" />
              <figcaption>Tabela.js</figcaption>
            </figure>
            
            <figure>
              <img src="images/js_file.png" class="js-file" />
              <figcaption>Slider.js</figcaption>
            </figure>
            
            <figure>
              <img src="images/js_file.png" class="js-file" />
              <figcaption>Tabs.js</figcaption>
            </figure>
            
            <figure class="last">
              <img src="images/js_file.png" class="js-file" />
              <figcaption>Dialog.js</figcaption>
            </figure>
          </div>
        </div>
      </section>
      
      <section class="dir-struct main" style="display: none;">
      
        <header>
          <img src="images/round_arrow_left.png" class="back-to main-to-start" />
          Main
        </header>
                    
        <div>
          <div class="main-root">
            <figure>
              <img src="images/diretorio.png" />
              <figcaption>Main</figcaption>
            </figure>
          </div>
        </div>
        
        <figure>
          <img src="images/down-arrow.png" />
        </figure>
        
        <div>
          <div class="main-children">
            <figure>
              <img src="images/js_file.png" class="js-file" />
              <figcaption>Namespaces.js</figcaption>
            </figure>
            
            <figure class="last">
              <img src="images/js_file.png" class="js-file" />
              <figcaption>MainScript.js</figcaption>
            </figure>
          </div>
        </div>        
      </section>
    </article>
  </slide>

  <slide>
    <articleclass id='demo' class="flexbox vcenter">
      <a href="http://modeloivia.apphb.com" target="_blank">DEMO</a>
      <a href="https://github.com/danilojrr/ModeloIVIA" target="_blank">FONTES</a>
    </article>
  </slide>  

  <slide class="thank-you-slide segue nobackground">
    <aside class="gdbar right"><img src="images/google_developers_icon_128.png"></aside>
    <article class="flexbox vleft auto-fadein">
      <h2>&lt;Obrigado!&gt;</h2>
      <!--<p>Important contact information goes here.</p>-->
    </article>
    <p class="auto-fadein" data-config-contact>
      <!-- populated from slide_config.json -->
    </p>
  </slide>

  <slide class="logoslide nobackground">
    <article class="flexbox vcenter">
      <span><img src="images/ivia-logo.png"></span>
    </article>
  </slide>

  <slide class="backdrop"></slide>

</slides>

<script>
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-XXXXXXXX-1']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
</script>

<!--[if IE]>
  <script src="http://ajax.googleapis.com/ajax/libs/chrome-frame/1/CFInstall.min.js"></script>
  <script>CFInstall.check({mode: 'overlay'});</script>
<![endif]-->

<script src="js/jquery-1.5.1.min.js"></script>
<script src='js/behavior.js'></script>

</body>
</html>
